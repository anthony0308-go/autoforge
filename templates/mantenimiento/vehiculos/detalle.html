{% extends 'mantenimiento/base.html' %}

{% block content %}
  <h2 class="text-xl font-bold mb-4">Detalle del vehículo</h2>
  <div class="bg-white p-4 rounded shadow text-black">
    <p><strong>Placa:</strong> {{ vehiculo.placa }}</p>
    <p><strong>Marca:</strong> {{ vehiculo.marca }}</p>
    <p><strong>Modelo:</strong> {{ vehiculo.modelo }}</p>
    <p><strong>Año:</strong> {{ vehiculo.anio }}</p>
    <p><strong>Color:</strong> {{ vehiculo.color }}</p>
  </div>
  <a href="{% url 'listar_vehiculos' %}" class="text-blue-500 underline mt-4 inline-block">← Volver al listado</a>

  
{% endblock %}
<h3 class="text-lg font-semibold mt-6 mb-3 text-blue-700">Historial de Mantenimientos</h3>

{% if mantenimientos %}
  <table class="w-full border text-sm">
    <thead class="bg-gray-100">
      <tr>
        <th class="py-2 px-3 text-left">Fecha</th>
        <th class="py-2 px-3 text-left">Tipo</th>
        <th class="py-2 px-3 text-left">Total</th>
        <th class="py-2 px-3 text-left">Ver</th>
      </tr>
    </thead>
    <tbody>
      {% for m in mantenimientos %}
      <tr class="border-b">
        <td class="px-3 py-2">{{ m.fecha_ingreso|date:"d/m/Y" }}</td>
        <td class="px-3 py-2">{{ m.id_tipo_mantenimiento|default:"-" }}</td>
        <td class="px-3 py-2">${{ m.costo_total_mantenimiento|floatformat:2 }}</td>
        <td class="px-3 py-2">
          <a href="{% url 'detalle_mantenimiento' m.id_mantenimiento %}" class="text-blue-600 hover:underline">Ver</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% else %}
  <p class="text-gray-500 italic">Este vehículo no tiene mantenimientos registrados.</p>
{% endif %}
